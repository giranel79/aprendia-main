<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.50">
    <title>COMANDO IA | ACCESO TOTAL</title>
    
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@400;700;900&family=JetBrains+Mono&display=swap" rel="stylesheet">

    <style>
        :root {
            --neon-cyan: #00F2FF;
            --neon-red: #FF003C;
            --neon-green: #39FF14;
            --gold: #FFD700;
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            background-color: #000;
            color: white;
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }

        .font-orbitron { font-family: 'Orbitron', sans-serif; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }

        .bg-scanline {
            background: linear-gradient(to bottom, transparent 50%, rgba(0, 242, 255, 0.03) 50%);
            background-size: 100% 4px;
            z-index: 10;
            pointer-events: none;
        }

        /* ANIMACIÃ“N LOGO */
        @keyframes logoFloat {
            0%, 100% { transform: translateY(0) scale(1); filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.4)); }
            50% { transform: translateY(-15px) scale(1.02); filter: drop-shadow(0 0 60px rgba(255, 215, 0, 0.7)); }
        }
        .logo-main { animation: logoFloat 5s ease-in-out infinite; }

        @keyframes arrows {
            0% { opacity: 0; transform: translateX(-10px); }
            50% { opacity: 1; }
            100% { opacity: 0; transform: translateX(10px); }
        }
        .arrow { animation: arrows 1.2s infinite; }
        .delay-1 { animation-delay: 0.2s; }
        .delay-2 { animation-delay: 0.4s; }

        .btn-glow {
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.4);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .btn-glow:hover {
            transform: scale(1.05);
            box-shadow: 0 0 40px rgba(0, 242, 255, 0.8);
        }

        /* CARD SCALE 90% */
        .quiz-card {
            background: rgba(10, 10, 10, 0.95);
            border: 1px solid rgba(0, 242, 255, 0.2);
            backdrop-filter: blur(15px);
            transform: scale(0.9);
        }

        /* DOPAMINE SHOCK */
        @keyframes alertFlash {
            0%, 100% { background: rgba(255, 0, 60, 0.1); }
            50% { background: rgba(255, 0, 60, 0.3); }
        }
        .critical-alert { animation: alertFlash 1s infinite; }

        @keyframes pricePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); text-shadow: 0 0 20px #39FF14; }
        }
        .price-hot { animation: pricePulse 0.5s infinite; }

        .wa-btn {
            background: #25D366;
            box-shadow: 0 0 30px rgba(37, 211, 102, 0.5);
            animation: wa-jump 2s infinite;
        }
        @keyframes wa-jump {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body>

    <div class="fixed inset-0 bg-scanline"></div>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzeEzGb6TJ-gcuXfRaooUZGNobCHW21-bHmKOrTZGqaZD_3JHK1CDzSiMGz2wXGu8e3fA/exec";

        const questions = [
            { id: "alias", title: "IDENTIDAD", text: "Â¿CuÃ¡l es tu Alias?", placeholder: "Tu nombre de guerra...", type: "text" },
            { id: "nombre", title: "REGISTRO", text: "Â¿Nombre completo?", placeholder: "Para tu certificaciÃ³n...", type: "text" },
            { id: "sexo", title: "PERFIL", text: "GÃ©nero:", type: "select", options: ["Masculino", "Femenino", "Otro"] },
            { id: "celular", title: "NÃšCLEO", text: "WhatsApp de contacto:", placeholder: "+57...", type: "tel" },
            { id: "email", title: "ENLACE", text: "Correo electrÃ³nico:", placeholder: "correo@ejemplo.com", type: "email" },
            { id: "ubicacion", title: "ASISTENCIA", text: "Â¿Vienes presencial a Cali?", type: "select", options: ["SÃ, asistirÃ©", "No, virtual"] },
            { id: "equipo", title: "HARDWARE", text: "Â¿TraerÃ¡s Laptop y Celular?", type: "select", options: ["SÃ, cuento con equipo", "No tengo"] },
            { id: "rol", title: "OCUPACIÃ“N", text: "Â¿A quÃ© te dedicas?", type: "select", options: ["DueÃ±o Negocio", "Empleado", "Freelance", "Estudiante"] },
            { id: "dolor", title: "RETO", text: "Â¿QuÃ© es lo que mÃ¡s te frena?", type: "select", options: ["Falta de tiempo", "TecnologÃ­a difÃ­cil", "Ingresos estancados", "Miedo al futuro"] },
            { id: "libertad", title: "META", text: "Ingreso mensual deseado:", type: "select", options: ["$1,000 USD", "$3,000 USD", "$5,000 USD+", "Aprender"] },
            { id: "mision", title: "ENFOQUE", text: "Â¿QuÃ© quieres dominar?", type: "select", options: ["Agentes GPTs", "Prompting", "Vibe Coding", "Estrategia"] },
            { id: "nivel_ia", title: "NIVEL", text: "Â¿CuÃ¡l es tu nivel actual?", type: "select", options: ["Cero", "BÃ¡sico", "Intermedio", "Pro"] },
            { id: "compromiso", title: "DISCIPLINA", text: "Â¿Llegas a las 8:00 AM?", type: "select", options: ["SÃ, COMPROMISO TOTAL", "TratarÃ©"] },
            { id: "legales", title: "LEGAL", text: "Â¿Autorizas manejo de datos?", type: "select", options: ["SÃ, AUTORIZO"] }
        ];

        const App = () => {
            const [step, setStep] = useState(-1);
            const [formData, setFormData] = useState({});
            const [input, setInput] = useState("");
            const sessionId = useMemo(() => Math.random().toString(36).substr(2, 6).toUpperCase(), []);

            const handleNext = (val) => {
                const updated = { ...formData, [questions[step].id]: val };
                setFormData(updated);
                if (step === questions.length - 1) sendToSheet(updated);
                else { setStep(step + 1); setInput(""); }
            };

            const sendToSheet = async (data) => {
                setStep(99); 
                const params = new URLSearchParams(data);
                params.append('timestamp', new Date().toLocaleString());
                params.append('sessionId', sessionId);

                try {
                    const form = document.createElement('form');
                    form.method = 'POST'; form.action = SCRIPT_URL;
                    params.forEach((v, k) => {
                        const i = document.createElement('input'); i.type='hidden'; i.name=k; i.value=v; form.appendChild(i);
                    });
                    const ifr = document.createElement('iframe'); ifr.name='h_ifr'; ifr.style.display='none'; document.body.appendChild(ifr);
                    form.target='h_ifr'; document.body.appendChild(form); form.submit();
                    setTimeout(() => setStep(100), 2000);
                } catch (e) { setStep(100); }
            };

            // LANDING
            if (step === -1) return (
                <div className="h-screen w-screen flex items-center justify-center px-6 lg:px-20 overflow-hidden">
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-12 items-center w-full max-w-[1500px]">
                        <div className="text-center lg:text-left z-20">
                            <h1 className="font-orbitron text-4xl md:text-7xl font-black leading-[0.6] tracking-tighter">
                                COMANDO <br/>
                                <span className="text-[#00F2FF] drop-shadow-[0_0_20px_#00F2FF]">IA</span>
                            </h1>
                            <div className="h-1 w-24 bg-[#FFD700] my-8 mx-auto lg:mx-0"></div>
                            <p className="font-mono text-xs text-[#FFD700] tracking-[0.5em] uppercase opacity-70">SoberanÃ­a Tech / 
Cali 2026</p>
                        </div>
                        <div className="flex justify-center order-first lg:order-none">
                            <img src="logo_cyberpunk.png" className="logo-main w-[350px] md:w-[600px]" onError={e => e.target.src="https://i.ibb.co/LdsXF5G/logo-cyber.png"} />
                        </div>
                        <div className="flex justify-center lg:justify-end z-20">
                            <button onClick={() => setStep(0)} className="btn-glow bg-[#00F2FF] text-black font-black font-orbitron px-10 py-7 rounded-2xl flex items-center gap-5 group">
                                <span className="tracking-[0.2em] text-sm">INICIAR FASE REGISTRO</span>
                                <div className="flex text-2xl"><span className="arrow">{'>'}</span><span className="arrow delay-1">{'>'}</span><span className="arrow delay-2">{'>'}</span></div>
                            </button>
                        </div>
                    </div>
                </div>
            );

            // LOADING
            if (step === 99) return (
                <div className="h-screen flex items-center justify-center font-orbitron bg-black">
                    <div className="text-center space-y-4">
                        <div className="w-16 h-16 border-4 border-[#00F2FF] border-t-transparent rounded-full animate-spin mx-auto"></div>
                        <p className="tracking-[0.6em] text-[10px] text-[#00F2FF] animate-pulse">SINCRONIZANDO NODOS...</p>
                    </div>
                </div>
            );

            // FINAL DOPAMINE SHOCK
            if (step === 100) {
                const waMessage = `ðŸ«¡ COMANDANTE, soy ${formData.alias}. 
Mi perfil: ${formData.rol}.
Mi desafÃ­o actual: ${formData.dolor}.
ID DE SESIÃ“N: [#${sessionId}]

He completado mi registro para el Comando IA Cali. Deseo asegurar mi cupo con el precio de preventa de $69 USD (Ahorro de $128 USD). Â¿CuÃ¡les son los pasos de pago?`;

                return (
                    <div className="h-screen w-screen flex items-center justify-center p-4 bg-black overflow-hidden relative">
                        <div className="absolute inset-0 critical-alert opacity-20"></div>
                        
                        <div className="relative z-10 w-full max-w-lg text-center space-y-6">
                            <div className="bg-[#FF003C] text-black font-black font-orbitron py-2 px-8 inline-block skew-x-[-15deg] text-xs tracking-[0.4em] animate-pulse">
                                ACCESO RESTRINGIDO - CUPO RESERVADO
                            </div>

                            <h2 className="font-orbitron text-5xl md:text-6xl font-black text-white leading-none">
                                Â¡OPERACIÃ“N <br/> <span className="text-[#39FF14]">EXITOSA!</span>
                            </h2>

                            <div className="bg-white/5 border border-white/10 p-8 rounded-[2.5rem] backdrop-blur-2xl relative overflow-hidden group">
                                <div className="absolute top-0 right-0 p-4 font-mono text-[10px] text-white/20 tracking-tighter">REF: #{sessionId}</div>
                                
                                <p className="font-mono text-[10px] text-[#FFD700] tracking-[0.4em] uppercase mb-4 opacity-70">LiquidaciÃ³n de Cuota</p>
                                
                                <div className="flex justify-center items-center gap-6 mb-2">
                                    <span className="text-white/30 text-2xl line-through font-bold">$197</span>
                                    <span className="text-6xl md:text-7xl font-black text-[#39FF14] price-hot drop-shadow-[0_0_15px_#39FF14]">$69</span>
                                    <span className="text-white font-black text-xl">USD</span>
                                </div>
                                <p className="text-[#FF003C] font-black text-[10px] tracking-widest uppercase mb-6 animate-pulse">Â¡AHORRO INMEDIATO DE $128 USD!</p>

                                <p className="text-gray-400 text-xs leading-relaxed max-w-xs mx-auto mb-8">
                                    <span className="text-white font-bold">{formData.alias}</span>, tu registro ha sido inyectado en el sistema central. Para activar tu rango y evitar el aumento de precio, contacta al Comandante ahora mismo.
                                </p>

                                <a 
                                    href={`https://wa.me/573155822315?text=${encodeURIComponent(waMessage)}`}
                                    target="_blank"
                                    className="wa-btn flex items-center justify-center gap-4 py-6 rounded-2xl text-white font-black font-orbitron text-lg group-hover:scale-105 transition-transform"
                                >
                                    <svg className="w-8 h-8 fill-current" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.417-.003 6.557-5.338 11.892-11.893 11.892-1.997-.001-3.951-.5-5.688-1.448l-6.305 1.652zm6.599-3.835c1.516.899 3.3 1.374 5.29 1.375 5.405 0 9.803-4.397 9.805-9.801.001-2.618-1.02-5.08-2.875-6.934-1.856-1.855-4.318-2.873-6.937-2.872-5.406 0-9.803 4.397-9.806 9.802 0 2.083.524 4.117 1.516 5.9l-.988 3.604 3.695-.97zM17.507 14.39c-.324-.162-1.92-.949-2.217-1.058-.297-.108-.513-.162-.73.162-.216.324-.838 1.058-1.027 1.274-.189.216-.378.243-.702.081-.324-.162-1.37-.504-2.611-1.611-.965-.86-1.617-1.923-1.806-2.247-.189-.324-.02-.5-.182-.661-.146-.145-.324-.378-.486-.568-.162-.189-.216-.324-.324-.54-.108-.216-.054-.405.027-.567.081-.162.73-1.058 1.108-1.595.108-.162.189-.27.27-.432.081-.162.054-.324.027-.486-.027-.162-.73-1.757-1-2.405-.262-.63-.531-.54-.73-.55l-.621-.01c-.216 0-.567.081-.865.405-.297.324-1.135 1.108-1.135 2.703s1.162 3.135 1.324 3.351c.162.216 2.284 3.488 5.533 4.894.773.335 1.376.535 1.846.684.775.245 1.48.211 2.037.128.621-.093 1.92-.784 2.19-1.54.27-.757.27-1.405.189-1.541-.081-.136-.297-.216-.621-.378z"/></svg>
                                VALIDAR MI ACCESO
                                <div className="ml-2 flex gap-1 opacity-50"><span className="arrow">{'>'}</span><span className="arrow delay-1">{'>'}</span></div>
                            </a>
                        </div>
                        
                        <div className="font-mono text-[9px] text-white/20 tracking-[0.5em] uppercase">
                            Protocolo Finalizado con Ã©xito // Cali.Col
                        </div>
                    </div>
                </div>
            );
            }

            // QUESTIONS FLOW
            const q = questions[step];
            return (
                <div className="h-screen w-screen flex items-center justify-center p-4">
                    <div className="quiz-card w-full max-w-lg p-10 rounded-[3rem] shadow-[0_0_60px_rgba(0,0,0,0.8)] border-t-4 border-t-[#00F2FF]">
                        <div className="mb-10">
                            <div className="flex justify-between text-[10px] font-mono text-[#00F2FF] mb-3 tracking-[0.3em]">
                                <span>SEC {step + 1} / {questions.length}</span>
                                <span className="text-[#FFD700]">ID: {sessionId}</span>
                            </div>
                            <div className="w-full h-1 bg-white/5 rounded-full overflow-hidden">
                                <div className="h-full bg-gradient-to-r from-[#00F2FF] via-[#39FF14] to-[#00F2FF] transition-all duration-700 bg-[length:200%_100%] animate-[gradient_2s_linear_infinite]" style={{width: `${((step+1)/questions.length)*100}%`}}></div>
                            </div>
                        </div>

                        <span className="inline-block px-4 py-1.5 bg-[#FFD700] text-black text-[9px] font-black tracking-widest rounded-lg mb-6 uppercase shadow-lg shadow-[#FFD700]/20">{q.title}</span>
                        <h2 className="text-3xl font-black mb-10 leading-none tracking-tight">{q.text}</h2>

                        <div className="space-y-4">
                            {q.type !== 'select' ? (
                                <>
                                    <input 
                                        autoFocus
                                        className="w-full bg-white/5 border-b-4 border-[#00F2FF]/30 p-5 text-2xl outline-none focus:border-[#00F2FF] transition-all font-bold text-[#00F2FF]"
                                        type={q.type} placeholder={q.placeholder} value={input}
                                        onChange={e => setInput(e.target.value)}
                                        onKeyPress={e => e.key === 'Enter' && input && handleNext(input)}
                                    />
                                    <button onClick={() => input && handleNext(input)} className="w-full py-6 bg-white/5 hover:bg-white/10 font-orbitron text-[11px] tracking-[0.6em] border border-white/10 rounded-2xl transition-all uppercase"> PROCESAR Â» </button>
                                </>
                            ) : (
                                <div className="grid gap-4">
                                    {q.options.map((opt, i) => (
                                        <button 
                                            key={i} onClick={() => handleNext(opt)}
                                            className="group bg-white/5 p-6 rounded-2xl text-left text-sm font-bold flex items-center justify-between hover:bg-[#00F2FF]/10 border border-transparent hover:border-[#00F2FF]/50 transition-all"
                                        >
                                            <div className="flex items-center gap-5">
                                                <span className="text-[#00F2FF] font-mono text-[10px] opacity-40">#{i+1}</span>
                                                {opt}
                                            </div>
                                            <span className="opacity-0 group-hover:opacity-100 transition-opacity text-[#00F2FF]">Â»</span>
                                        </button>
                                    ))}
                                </div>
                            )}
                        </div>

                        {step > 0 && (
                            <button onClick={() => setStep(step-1)} className="mt-10 text-[9px] font-mono opacity-20 hover:opacity-100 transition-opacity w-full text-center uppercase tracking-[0.4em]">
                                [ Recalibrar fase previa ]
                            </button>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>